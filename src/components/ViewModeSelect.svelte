<script>
  export let scene;

  // Inicializa o estado com o valor atual da flag ou padr√£o 'battlemap'
  let viewMode = scene.getFlag("storyteller-cinema", "viewMode") || "battlemap";

  /**
   * Atualiza a flag quando o valor do select muda.
   */
  async function updateViewMode(event) {
    viewMode = event.target.value;
    await scene.setFlag("storyteller-cinema", "viewMode", viewMode);
    console.log(`Storyteller Cinema | üé¨ View Mode set to: ${viewMode}`);
  }
</script>

<div class="form-group">
  <label for="viewModeSelect">Visualiza√ß√£o Padr√£o</label>
  <div class="form-fields">
    <select id="viewModeSelect" value={viewMode} on:change={updateViewMode}>
      <option value="battlemap">üìç Battlemap (T√°tico)</option>
      <option value="cinematic">üé¨ Cinematic (Imersivo)</option>
    </select>
  </div>
  <p class="notes">
    Define se esta cena deve abrir automaticamente no Modo Cinem√°tico (Troca de
    assets, Escala de Profundidade).
  </p>
</div>
