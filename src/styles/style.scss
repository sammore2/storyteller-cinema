/* =========================================
   STORYTELLER CINEMA - STYLE.SCSS (V10.2 WIDESCREEN FIX)
   ========================================= */

#storyteller-cinema-overlay {
   position: fixed;
   top: 0;
   left: 0;
   width: 100%;
   height: 100%;

   /* INTERATIVIDADE: 
       Container é permeável (none) para permitir clicar no mapa no centro. */
   pointer-events: none;

   /* CAMADA (Z-INDEX):
       0 = Canvas (Mapa/Tokens)
       10 = Overlay (Cinematic Bars) - [REDUZIDO DE 50 PARA 10]
       100 = Foundry UI (Sidebars, Hotbar)
       
       Mantenha baixo para garantir que NUNCA cubra a interface. */
   z-index: 10;

   display: flex;
   flex-direction: column;
   justify-content: space-between;
   opacity: 0;
   transition: opacity 1s ease-in-out;

   &.active {
      opacity: 1;
   }

   .cinematic-bar {
      width: 100%;
      height: 13vh;
      /* Um pouco mais alto para garantir cobertura */
      background: black;

      /* BLOQUEIO DE CLIQUES NA BARRA:
           Se 'auto', você não clica no que está embaixo da barra (tokens no topo/fundo).
           Se 'none', você clica através da barra preta.
           Geralmente 'none' é melhor para evitar frustração de "não consigo clicar no token que está meio escondido". */
      pointer-events: none;

      box-shadow: 0 0 20px rgba(0, 0, 0, 0.9);
   }
}

/* Garante que nenhum estilo interfira na UI do Foundry */

body.cinematic-mode {
   transition: background-color 1.5s ease-in-out;
}

#storyteller-cinema-toggle {
   position: fixed;
   top: 5px;
   right: 310px;
   /* Width of sidebar (~300px) + padding */
   width: 35px;
   height: 35px;
   z-index: 95;
   /* Must be > 10 (Overlay) but < 100 (Sidebar) */
   background: rgba(0, 0, 0, 0.9);
   border: 2px solid #ff6400;
   /* Always visible orange border */
   border-radius: 5px;
   color: #fff;
   font-size: 16px;
   display: flex;
   align-items: center;
   justify-content: center;
   cursor: pointer;
   box-shadow: 0 0 5px #000;
   transition: all 0.2s;

   &:hover {
      background: #333;
      text-shadow: 0 0 5px #ff6400;
      border-color: #ff6400;
   }

   &.active {
      color: #ff6400;
      border-color: #ff6400;
      background: rgba(20, 0, 0, 0.9);
   }
}